"use strict";(self["webpackChunktoc_game_v4"]=self["webpackChunktoc_game_v4"]||[]).push([[184],{2184:function(l,a,o){o.r(a),o.d(a,{default:function(){return $}});var e=o(3396),i=o(7139);const s=l=>((0,e.dD)("data-v-9358ca26"),l=l(),(0,e.Cn)(),l),n={class:"container-fluid"},r=s((()=>(0,e._)("div",{class:"row"},[(0,e._)("h2",null,"ABRIR CAJA")],-1))),t={class:"row p-2",style:{"text-align":"center"}},v=s((()=>(0,e._)("img",{src:"/img/1cts.png",width:"84",height:"84"},null,-1))),d=s((()=>(0,e._)("img",{src:"/img/2cts.png",width:"84",height:"84"},null,-1))),c=s((()=>(0,e._)("img",{src:"/img/5cts.png",width:"84",height:"84"},null,-1))),u=s((()=>(0,e._)("img",{src:"/img/10cts.png",width:"84",height:"84"},null,-1))),_=s((()=>(0,e._)("img",{src:"/img/20cts.png",width:"84",height:"84"},null,-1))),m=s((()=>(0,e._)("img",{src:"/img/50cts.png",width:"84",height:"84"},null,-1))),g=s((()=>(0,e._)("img",{src:"/img/uneuro.png",width:"84",height:"84"},null,-1))),f=s((()=>(0,e._)("img",{src:"/img/doseuros.png",width:"84",height:"84"},null,-1))),C={class:"row mx-auto mt-4"},w=["width"],b=s((()=>(0,e._)("br",null,null,-1))),h=["width"],p=s((()=>(0,e._)("br",null,null,-1))),y=["width"],z=s((()=>(0,e._)("br",null,null,-1))),k=["width"],D=s((()=>(0,e._)("br",null,null,-1))),A=["width"],B=s((()=>(0,e._)("br",null,null,-1))),S=["width"],N=s((()=>(0,e._)("br",null,null,-1))),x=["width"],M=s((()=>(0,e._)("br",null,null,-1))),j={class:"row mx-auto mt-5"},T={class:"text-center"},U={class:"position-absolute bottom-0 start-0 mb-4 ms-2"},R={class:"row"},H={class:"col"},O={class:"col"};function V(l,a,o,s,V,W){const F=(0,e.up)("MDBBtn"),I=(0,e.up)("MDBModalBody"),Z=(0,e.up)("MDBModal");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",n,[r,(0,e._)("div",t,[(0,e._)("div",{class:"col",onClick:a[0]||(a[0]=l=>s.setActivo(0))},[v,(0,e._)("label",{class:(0,i.C_)({infoDineros:0==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[0].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[1]||(a[1]=l=>s.setActivo(1))},[d,(0,e._)("label",{class:(0,i.C_)({infoDineros:1==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[1].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[2]||(a[2]=l=>s.setActivo(2))},[c,(0,e._)("label",{class:(0,i.C_)({infoDineros:2==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[2].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[3]||(a[3]=l=>s.setActivo(3))},[u,(0,e._)("label",{class:(0,i.C_)({infoDineros:3==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[3].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[4]||(a[4]=l=>s.setActivo(4))},[_,(0,e._)("label",{class:(0,i.C_)({infoDineros:4==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[4].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[5]||(a[5]=l=>s.setActivo(5))},[m,(0,e._)("label",{class:(0,i.C_)({infoDineros:5==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[5].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[6]||(a[6]=l=>s.setActivo(6))},[g,(0,e._)("label",{class:(0,i.C_)({infoDineros:6==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[6].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",onClick:a[7]||(a[7]=l=>s.setActivo(7))},[f,(0,e._)("label",{class:(0,i.C_)({infoDineros:7==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[7].valor)+" unidades ",3)])]),(0,e._)("div",C,[(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[8]||(a[8]=l=>s.setActivo(8))},[(0,e._)("img",{src:"/img/5euros.png",width:s.sizeBilletes},null,8,w),(0,e.Uk)(),b,(0,e._)("label",{class:(0,i.C_)({infoDineros:8==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[8].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[9]||(a[9]=l=>s.setActivo(9))},[(0,e._)("img",{src:"/img/10euros.png",width:s.sizeBilletes},null,8,h),p,(0,e._)("label",{class:(0,i.C_)({infoDineros:9==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[9].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[10]||(a[10]=l=>s.setActivo(10))},[(0,e._)("img",{src:"/img/20euros.png",width:s.sizeBilletes},null,8,y),z,(0,e._)("label",{class:(0,i.C_)({infoDineros:10==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[10].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[11]||(a[11]=l=>s.setActivo(11))},[(0,e._)("img",{src:"/img/50euros.png",width:s.sizeBilletes},null,8,k),D,(0,e._)("label",{class:(0,i.C_)({infoDineros:11==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[11].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[12]||(a[12]=l=>s.setActivo(12))},[(0,e._)("img",{src:"/img/100euros.png",width:s.sizeBilletes},null,8,A),B,(0,e._)("label",{class:(0,i.C_)({infoDineros:12==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[12].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[13]||(a[13]=l=>s.setActivo(13))},[(0,e._)("img",{src:"/img/200euros.png",width:s.sizeBilletes},null,8,S),N,(0,e._)("label",{class:(0,i.C_)({infoDineros:13==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[13].valor)+" unidades ",3)]),(0,e._)("div",{class:"col",style:{"text-align":"center"},onClick:a[14]||(a[14]=l=>s.setActivo(14))},[(0,e._)("img",{src:"/img/500euros.png",width:s.sizeBilletes},null,8,x),M,(0,e._)("label",{class:(0,i.C_)({infoDineros:14==s.activo,unidadesSize:!0})},(0,i.zw)(s.infoDinero[14].valor)+" unidades ",3)])]),(0,e._)("div",j,[(0,e._)("div",T,[(0,e._)("a",{class:"boton",onClick:a[15]||(a[15]=l=>s.addNumero(0))},"0"),(0,e._)("a",{class:"boton",onClick:a[16]||(a[16]=l=>s.addNumero(1))},"1"),(0,e._)("a",{class:"boton",onClick:a[17]||(a[17]=l=>s.addNumero(2))},"2"),(0,e._)("a",{class:"boton",onClick:a[18]||(a[18]=l=>s.addNumero(3))},"3"),(0,e._)("a",{class:"boton",onClick:a[19]||(a[19]=l=>s.addNumero(4))},"4"),(0,e._)("a",{class:"boton",onClick:a[20]||(a[20]=l=>s.addNumero(5))},"5"),(0,e._)("a",{class:"boton",onClick:a[21]||(a[21]=l=>s.addNumero(6))},"6"),(0,e._)("a",{class:"boton",onClick:a[22]||(a[22]=l=>s.addNumero(7))},"7"),(0,e._)("a",{class:"boton",onClick:a[23]||(a[23]=l=>s.addNumero(8))},"8"),(0,e._)("a",{class:"boton",onClick:a[24]||(a[24]=l=>s.addNumero(9))},"9"),(0,e._)("a",{class:"boton",onClick:a[25]||(a[25]=l=>s.borrarNumero())},"<")])]),(0,e._)("div",U,[(0,e.Wm)(F,{color:"primary",style:{"font-size":"27px"},size:"lg",onClick:a[26]||(a[26]=l=>s.abrirModalConfirmacion())},{default:(0,e.w5)((()=>[(0,e.Uk)("ABRIR CON "+(0,i.zw)(s.getTotal.toFixed(2))+" â‚¬ ",1)])),_:1}),(0,e.Wm)(F,{color:"warning",style:{"font-size":"27px"},size:"lg",onClick:a[27]||(a[27]=l=>s.volver())},{default:(0,e.w5)((()=>[(0,e.Uk)("VOLVER ")])),_:1})])]),(0,e.Wm)(Z,{id:"modalConfirmacionApertura",tabindex:"-1",labelledby:"tituloModalConfirmacionApertura",modelValue:s.modalConfirmacionApertura,"onUpdate:modelValue":a[30]||(a[30]=l=>s.modalConfirmacionApertura=l),centered:"",staticBackdrop:""},{default:(0,e.w5)((()=>[(0,e.Wm)(I,null,{default:(0,e.w5)((()=>[(0,e._)("div",R,[(0,e._)("div",H,[(0,e.Wm)(F,{color:"danger",class:"w-100",size:"lg",onClick:a[28]||(a[28]=l=>s.modalConfirmacionApertura=!1)},{default:(0,e.w5)((()=>[(0,e.Uk)("Cancelar")])),_:1})]),(0,e._)("div",O,[(0,e.Wm)(F,{color:"success",size:"lg",class:"w-100",onClick:a[29]||(a[29]=l=>s.abrirCaja())},{default:(0,e.w5)((()=>[(0,e.Uk)("Confirmar")])),_:1})])])])),_:1})])),_:1},8,["modelValue"])],64)}o(7658);var W=o(4870),F=o(70),I=o(3739),Z=o(2492),E=o.n(Z),J=o(4313),Y=o(65),G={name:"AbrirCajaView",components:{MDBModal:J.j3,MDBModalBody:J.Yz,MDBBtn:J.$v},setup(){const l=(0,Y.oR)(),a=(0,W.iH)(!1),o=(0,W.iH)(null),i=(0,e.Fl)((()=>69)),s=(0,W.iH)([{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""}]),n=(0,W.iH)(0),r=0,t="160",v=(0,W.iH)(0),d=(0,e.Fl)((()=>{let l=0;return l+=.01*s.value[0].valor,l+=.02*s.value[1].valor,l+=.05*s.value[2].valor,l+=.1*s.value[3].valor,l+=.2*s.value[4].valor,l+=.5*s.value[5].valor,l+=1*s.value[6].valor,l+=2*s.value[7].valor,l+=5*s.value[8].valor,l+=10*s.value[9].valor,l+=20*s.value[10].valor,l+=50*s.value[11].valor,l+=100*s.value[12].valor,l+=200*s.value[13].valor,l+=500*s.value[14].valor,l})),c=(0,e.Fl)((()=>{const l=[{_id:"0.01",valor:.01*s.value[0].valor,unidades:s.value[0].valor},{_id:"0.02",valor:.02*s.value[1].valor,unidades:s.value[1].valor},{_id:"0.05",valor:.05*s.value[2].valor,unidades:s.value[2].valor},{_id:"0.10",valor:.1*s.value[3].valor,unidades:s.value[3].valor},{_id:"0.20",valor:.2*s.value[4].valor,unidades:s.value[4].valor},{_id:"0.50",valor:.5*s.value[5].valor,unidades:s.value[5].valor},{_id:"1",valor:1*s.value[6].valor,unidades:s.value[6].valor},{_id:"2",valor:2*s.value[7].valor,unidades:s.value[7].valor},{_id:"5",valor:5*s.value[8].valor,unidades:s.value[8].valor},{_id:"10",valor:10*s.value[9].valor,unidades:s.value[9].valor},{_id:"20",valor:20*s.value[10].valor,unidades:s.value[10].valor},{_id:"50",valor:50*s.value[11].valor,unidades:s.value[11].valor},{_id:"100",valor:100*s.value[12].valor,unidades:s.value[12].valor},{_id:"200",valor:200*s.value[13].valor,unidades:s.value[13].valor},{_id:"500",valor:500*s.value[14].valor,unidades:s.value[14].valor}];return l}));function u(l){n.value=l}function _(){I.Z.push("/menu/caja")}function m(l){s.value[n.value].valor=Number(s.value[n.value].valor.toString()+l)}function g(){s.value=[{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""},{valor:0,style:""}],v.value=0}function f(l,a,o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3);let i="expires="+e.toUTCString();document.cookie=l+"="+a+";"+i+";path=/"}async function C(){try{const a=(await F.Z.post("/caja/abrirCaja",{total:d.value,detalle:c.value,idDependienta:l.getters["Trabajadores/getTrabajadorActivo"]._id})).data;if(!a)throw Error("No se ha podido abrir la caja");h(),E().fire("Â¡Todo OK!","Caja abierta correctamente","success"),f("datosCierre","",7),I.Z.push("/main")}catch(a){console.log(a),E().fire("Error",a.messaeg,"error")}}function w(){s.value[n.value].valor=Number(s.value[n.value].valor.toString().slice(0,-1))}function b(){a.value=!0}function h(){a.value=!1}function p(l){let a=l+"=",o=decodeURIComponent(document.cookie),e=o.split(";");for(let i=0;i<e.length;i++){let l=e[i];while(" "==l.charAt(0))l=l.substring(1);if(0==l.indexOf(a))return l.substring(a.length,l.length)}return""}return(0,e.bv)((()=>{const l=p("datosCierre");if(""!=l){const a=JSON.parse(l);for(let l=0;l<a.length;l++)s.value[l].valor=a[l]}})),{lolaso:i,ejemplo:o,volver:_,infoDinero:s,activo:n,totalClearOne:r,sizeBilletes:t,setActivo:u,addNumero:m,resetTodo:g,borrarNumero:w,getTotal:d,cantidad3G:v,abrirCaja:C,abrirModalConfirmacion:b,cerrarModalConfirmacion:h,modalConfirmacionApertura:a}}},K=o(89);const L=(0,K.Z)(G,[["render",V],["__scopeId","data-v-9358ca26"]]);var $=L}}]);
//# sourceMappingURL=184.0d2cad83.js.map